/* css/dashboard/settings.css  v2
   Tab-based settings layout
   ──────────────────────────── */

/* ── Shell: sidebar nav + panel area ────────────────────────── */
.settings-shell {
  display: flex;
  gap    : 20px;
  align-items: flex-start;
}

/* ── Left nav ────────────────────────────────────────────────── */
.settings-nav {
  display       : flex;
  flex-direction: column;
  gap           : 2px;
  width         : 168px;
  flex-shrink   : 0;
  position      : sticky;
  top           : 0;
}

.settings-nav-item {
  display      : flex;
  align-items  : center;
  gap          : 9px;
  padding      : 9px 12px;
  border       : none;
  background   : none;
  cursor       : pointer;
  border-radius: 8px;
  font-size    : 11.5px;
  font-weight  : 600;
  color        : var(--dash-text-dim);
  letter-spacing: .04em;
  text-align   : left;
  width        : 100%;
  transition   : background .14s, color .14s;
}
.settings-nav-item svg {
  width        : 14px;
  height       : 14px;
  stroke       : currentColor;
  fill         : none;
  stroke-width : 1.8;
  stroke-linecap: round;
  flex-shrink  : 0;
}
.settings-nav-item:hover {
  background: rgba(255,255,255,.05);
  color     : var(--dash-text);
}
.settings-nav-item.active {
  background: rgba(var(--accent-rgb,0,212,255),.1);
  color     : var(--dash-accent);
}
.settings-nav-divider {
  height    : 1px;
  background: var(--dash-border2);
  margin    : 4px 0;
}
.settings-nav-item--danger          { color: rgba(255,77,106,.6); }
.settings-nav-item--danger:hover    { background: rgba(255,77,106,.07); color: var(--dash-red); }
.settings-nav-item--danger.active   { background: rgba(255,77,106,.1); color: var(--dash-red); }

/* ── Panels area ─────────────────────────────────────────────── */
.settings-panels {
  flex     : 1;
  min-width: 0;
}

.settings-panel {
  display: none;
  flex-direction: column;
  gap: 16px;
}
.settings-panel.active { display: flex; }

/* ── Group card ──────────────────────────────────────────────── */
.settings-group {
  background   : var(--dash-surface2);
  border       : 1px solid var(--dash-border);
  border-radius: 10px;
  overflow     : hidden;
}

.settings-group-header {
  display      : flex;
  align-items  : center;
  gap          : 8px;
  padding      : 12px 18px;
  border-bottom: 1px solid var(--dash-border);
}
.settings-group-header svg {
  width       : 13px;
  height      : 13px;
  stroke      : var(--dash-accent);
  fill        : none;
  stroke-width: 1.8;
  stroke-linecap: round;
  flex-shrink : 0;
  opacity     : 0.65;
}
.settings-group-title {
  font-size     : 10px;
  letter-spacing: .15em;
  text-transform: uppercase;
  color         : var(--dash-text-dim);
  flex          : 1;
}

.settings-group-body {
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* ── Field row ───────────────────────────────────────────────── */
.settings-field-row {
  display        : flex;
  align-items    : center;
  justify-content: space-between;
  gap            : 16px;
}
.settings-field-row + .settings-field-row {
  padding-top: 12px;
  border-top : 1px solid var(--dash-border2);
}
.settings-field-row--wrap { flex-wrap: wrap; align-items: flex-start; }

.settings-field-info { flex: 1; }
.settings-field-name {
  font-size     : 12px;
  color         : var(--dash-text);
  letter-spacing: .03em;
  font-weight   : 600;
}
.settings-field-desc {
  font-size  : 10.5px;
  color      : var(--dash-text-faint);
  margin-top : 2px;
  line-height: 1.55;
}

/* ── Info rows (read-only) ───────────────────────────────────── */
.settings-info-row {
  display        : flex;
  align-items    : center;
  justify-content: space-between;
  gap            : 12px;
  padding        : 8px 0;
  border-bottom  : 1px solid var(--dash-border2);
}
.settings-info-row:last-child { border-bottom: none; }
.settings-info-key {
  font-size  : 11px;
  color      : var(--dash-text-faint);
  font-family: var(--font-mono);
  letter-spacing: .04em;
}
.settings-info-val {
  font-size: 11.5px;
  color    : var(--dash-text);
  text-align: right;
  word-break: break-all;
}

/* ── Form fields ─────────────────────────────────────────────── */
.settings-field {
  display       : flex;
  flex-direction: column;
  gap           : 6px;
}
.settings-pw-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
@media (max-width: 540px) {
  .settings-pw-row { grid-template-columns: 1fr; }
}

/* ── Toggle switch ───────────────────────────────────────────── */
.dash-toggle {
  display    : inline-flex;
  align-items: center;
  cursor     : pointer;
  flex-shrink: 0;
}
.dash-toggle input { display: none; }
.dash-toggle-track {
  display      : block;
  width        : 40px;
  height       : 22px;
  background   : rgba(255,255,255,.07);
  border       : 1px solid rgba(255,255,255,.1);
  border-radius: 999px;
  position     : relative;
  transition   : background .2s, border-color .2s;
}
.dash-toggle-track::after {
  content      : '';
  position     : absolute;
  top          : 3px;
  left         : 3px;
  width        : 14px;
  height       : 14px;
  border-radius: 50%;
  background   : rgba(255,255,255,.3);
  transition   : transform .2s, background .2s;
}
.dash-toggle input:checked + .dash-toggle-track {
  background  : rgba(var(--accent-rgb,0,212,255),.22);
  border-color: rgba(var(--accent-rgb,0,212,255),.45);
}
.dash-toggle input:checked + .dash-toggle-track::after {
  transform : translateX(18px);
  background: var(--dash-accent);
}

/* ── Accent colour swatches ──────────────────────────────────── */
.appearance-accent-row {
  display: flex;
  gap    : 8px;
  flex-wrap: wrap;
}
.appearance-swatch {
  width        : 26px;
  height       : 26px;
  border-radius: 50%;
  border       : 2px solid transparent;
  cursor       : pointer;
  background   : var(--swatch-col);
  transition   : border-color .15s, transform .15s, box-shadow .15s;
  outline      : none;
}
.appearance-swatch:hover { transform: scale(1.15); }
.appearance-swatch.active {
  border-color: #fff;
  box-shadow  : 0 0 0 3px rgba(255,255,255,.15);
}

/* ── Sidebar style buttons ───────────────────────────────────── */
.sidebar-style-btns {
  display: flex;
  gap    : 6px;
}
.sidebar-style-btn {
  font-size    : 11px;
  font-weight  : 600;
  padding      : 5px 14px;
  border-radius: 6px;
  border       : 1px solid var(--dash-border);
  background   : var(--dash-surface3);
  color        : var(--dash-text-dim);
  cursor       : pointer;
  transition   : background .15s, color .15s, border-color .15s;
}
.sidebar-style-btn:hover { color: var(--dash-text); border-color: rgba(255,255,255,.12); }
.sidebar-style-btn.active {
  background  : rgba(var(--accent-rgb,0,212,255),.12);
  color       : var(--dash-accent);
  border-color: rgba(var(--accent-rgb,0,212,255),.3);
}

/* ── Settings status message ─────────────────────────────────── */
.settings-msg {
  font-size  : 11px;
  padding    : 6px 10px;
  border-radius: 6px;
  opacity    : 0;
  transition : opacity .2s;
  pointer-events: none;
}
.settings-msg.visible { opacity: 1; pointer-events: auto; }
.settings-msg--success { color: var(--dash-green); background: rgba(68,221,136,.08); }
.settings-msg--error   { color: var(--dash-red);   background: rgba(255,77,106,.08); }

/* ── Danger zone ─────────────────────────────────────────────── */
.settings-group--danger { border-color: rgba(255,77,106,.2); }
.settings-group--danger .settings-group-header { border-bottom-color: rgba(255,77,106,.12); }
.settings-group--danger .settings-group-header svg { stroke: var(--dash-red); opacity: .7; }
.settings-group--danger .settings-group-title { color: rgba(255,77,106,.7); }

/* ── Developer console role badge ────────────────────────────── */
.admin-role-badge {
  font-size    : 9px;
  font-weight  : 800;
  letter-spacing: .12em;
  text-transform: uppercase;
  padding      : 2px 8px;
  border-radius: 4px;
  background   : rgba(var(--accent-rgb,0,212,255),.1);
  color        : var(--dash-accent);
  border       : 1px solid rgba(var(--accent-rgb,0,212,255),.2);
  margin-left  : auto;
}
.admin-role-badge[data-role="owner"] { color: #f5a623; background: rgba(245,166,35,.1); border-color: rgba(245,166,35,.2); }
.admin-role-badge[data-role="admin"] { color: var(--dash-accent); }

/* ── About card ──────────────────────────────────────────────── */
.settings-about-card {
  display       : flex;
  flex-direction: column;
  align-items   : center;
  gap           : 6px;
  padding       : 28px 20px 22px;
  border-radius : 12px;
  border        : 1px solid var(--dash-border);
  background    : var(--dash-surface2);
  text-align    : center;
  margin-top    : 4px;
}
.settings-about-logo {
  width        : 46px;
  height       : 46px;
  object-fit   : contain;
  border-radius: 12px;
  opacity      : .85;
  margin-bottom: 4px;
}
.settings-about-title {
  font-size     : 15px;
  font-weight   : 800;
  letter-spacing: .14em;
  color         : var(--dash-text);
  text-transform: uppercase;
}
.settings-about-sub {
  font-size     : 11px;
  letter-spacing: .06em;
  color         : var(--dash-accent);
  font-family   : var(--font-mono);
}
.settings-about-divider {
  width     : 36px;
  height    : 1px;
  background: var(--dash-border);
  margin    : 4px 0;
}
.settings-about-credits { font-size: 11px; color: var(--dash-text-dim); }
.settings-about-copy {
  font-size     : 9px;
  font-family   : var(--font-mono);
  letter-spacing: .06em;
  color         : rgba(120,130,155,.4);
  margin-top    : 2px;
}

/* ── Session info badge ──────────────────────────────────────── */
.settings-session-chip {
  display      : inline-flex;
  align-items  : center;
  gap          : 5px;
  background   : var(--dash-surface3);
  border       : 1px solid var(--dash-border);
  border-radius: 6px;
  padding      : 4px 10px;
  font-size    : 10.5px;
  font-family  : var(--font-mono);
  color        : var(--dash-text-dim);
}

/* ── Mobile layout ───────────────────────────────────────────── */
@media (max-width: 640px) {
  .settings-shell {
    flex-direction: column;
    gap: 12px;
  }
  .settings-nav {
    width         : 100%;
    flex-direction: row;
    flex-wrap     : wrap;
    gap           : 4px;
    position      : static;
    overflow-x    : auto;
    scrollbar-width: none;
    padding-bottom: 2px;
  }
  .settings-nav-divider { display: none; }
  .settings-nav-item {
    padding  : 7px 10px;
    font-size: 10.5px;
    white-space: nowrap;
  }
  .settings-nav-item svg { display: none; }
}
